[Unit]
Description=Vector - A lightweight, ultra-fast tool for building observability pipelines
After=network.target

[Service]
Type=simple
User=vector
Group=vector

ExecStartPre=/bin/mkdir -p /var/log/vector
ExecStartPre=/bin/chown vector:vector /var/log/vector

ExecStart=/usr/local/bin/vector --config /etc/vector/vector.yaml

Restart=always
RestartSec=5

StandardOutput=file:/var/log/vector/vector.log
StandardError=file:/var/log/vector/vector-error.log

[Install]
WantedBy=multi-user.target